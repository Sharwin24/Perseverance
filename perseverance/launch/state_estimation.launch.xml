<launch>

  <!-- Arguments -->
  <arg name="log_level" default="info" description="Logging level for all nodes"/>
  <arg name="launch_rviz" default="true" description="Launch RViz2 [true, false]"/>

  <node pkg="perseverance" exec="state_estimator" name="state_estimator" output="screen"
        args="--ros-args --log-level $(var log_level)">
    <param from="$(find-pkg-share perseverance)/config/state_estimation_config.yaml"/>
    <param name="use_sim_time" value="false"/>
  </node>

  <node pkg="rviz2" exec="rviz2" name="rviz2" output="screen"
    args="-d $(find-pkg-share perseverance)/config/rover.rviz --ros-args --log-level $(var log_level)" if="$(var launch_rviz)">
  </node>

</launch>
